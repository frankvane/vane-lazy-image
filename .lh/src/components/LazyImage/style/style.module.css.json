{
    "sourceFile": "src/components/LazyImage/style/style.module.css",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1759216733881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759220766052,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,11 +31,17 @@\n   animation: lazyimage-skeleton 2400ms ease-in-out infinite;\n }\n \n @keyframes lazyimage-skeleton {\n-  0% { background-position: 100% 50%; }\n-  50% { background-position: 0% 50%; }\n-  100% { background-position: 100% 50%; }\n+  0% {\n+    background-position: 100% 50%;\n+  }\n+  50% {\n+    background-position: 0% 50%;\n+  }\n+  100% {\n+    background-position: 100% 50%;\n+  }\n }\n \n .placeholderImg {\n   position: absolute;\n@@ -119,10 +125,14 @@\n   opacity: 0.8;\n }\n \n @keyframes lazyimage-spin {\n-  0% { transform: rotate(0deg); }\n-  100% { transform: rotate(360deg); }\n+  0% {\n+    transform: rotate(0deg);\n+  }\n+  100% {\n+    transform: rotate(360deg);\n+  }\n }\n \n @media (prefers-reduced-motion: reduce) {\n   .placeholder {\n@@ -145,5 +155,5 @@\n   .placeholderImg,\n   .img {\n     transition: none;\n   }\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1759224624310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,12 @@\n   position: relative;\n   display: block;\n   width: 100%;\n   height: auto;\n+  /* 添加默认背景色，避免白色空白 */\n+  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n+  border-radius: 8px;\n+  overflow: hidden;\n   /* 暂时移除以避免与 IntersectionObserver 的潜在兼容问题 */\n   /* content-visibility: auto; */\n   /* contain-intrinsic-size: 1px 200px; */\n   /* 限定样式/布局影响范围，利于合成优化 */\n@@ -23,15 +27,39 @@\n   animation: none;\n   transition: opacity 300ms ease;\n   will-change: opacity;\n   z-index: 0;\n+  /* 添加图标占位符 */\n+  display: flex;\n+  align-items: center;\n+  justify-content: center;\n }\n \n+.placeholder::before {\n+  content: \"🖼️\";\n+  font-size: 2rem;\n+  opacity: 0.3;\n+  color: #6c757d;\n+}\n+\n /* 仅当容器进入视口时才启用骨架动画 */\n .container[data-inview=\"true\"] .placeholder {\n   animation: lazyimage-skeleton 2400ms ease-in-out infinite;\n }\n \n+/* 当图片开始加载时，显示加载状态 */\n+.container[data-loading=\"true\"] .placeholder::before {\n+  content: \"⏳\";\n+  animation: lazyimage-pulse 1.5s ease-in-out infinite;\n+}\n+\n+/* 当图片加载失败时，显示错误状态 */\n+.container[data-error=\"true\"] .placeholder::before {\n+  content: \"❌\";\n+  color: #dc3545;\n+  opacity: 0.6;\n+}\n+\n @keyframes lazyimage-skeleton {\n   0% {\n     background-position: 100% 50%;\n   }\n@@ -42,8 +70,23 @@\n     background-position: 100% 50%;\n   }\n }\n \n+@keyframes lazyimage-pulse {\n+  0% {\n+    opacity: 0.3;\n+    transform: scale(1);\n+  }\n+  50% {\n+    opacity: 0.7;\n+    transform: scale(1.1);\n+  }\n+  100% {\n+    opacity: 0.3;\n+    transform: scale(1);\n+  }\n+}\n+\n .placeholderImg {\n   position: absolute;\n   inset: 0;\n   display: block;\n"
                },
                {
                    "date": 1759225934311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n .container {\n   position: relative;\n   display: block;\n   width: 100%;\n-  height: auto;\n+  min-height: 200px; /* 确保容器有最小高度以显示背景 */\n   /* 添加默认背景色，避免白色空白 */\n   background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n   border-radius: 8px;\n   overflow: hidden;\n@@ -26,9 +26,9 @@\n   opacity: 1;\n   animation: none;\n   transition: opacity 300ms ease;\n   will-change: opacity;\n-  z-index: 0;\n+  z-index: 1; /* 提高层级确保显示 */\n   /* 添加图标占位符 */\n   display: flex;\n   align-items: center;\n   justify-content: center;\n@@ -92,18 +92,22 @@\n   display: block;\n   width: 100%;\n   height: 100%;\n   object-fit: cover;\n-  filter: blur(6px) brightness(0.96);\n-  transition: opacity 240ms ease;\n+  opacity: 1;\n+  z-index: 1; /* 与 placeholder 同级 */\n+  /* 移除滤镜，保留静态占位 */\n+  /* filter: blur(6px) brightness(0.96); */\n+  /* 占位符淡出时间稍长，避免过早消失 */\n+  transition: opacity 450ms cubic-bezier(0.4, 0, 0.6, 1);\n+  transition-delay: 100ms;\n   will-change: opacity;\n-  z-index: 0;\n }\n \n .img {\n   position: absolute;\n   inset: 0;\n-  z-index: 1;\n+  z-index: 2; /* 最高层级 */\n   opacity: 0;\n   /* 移除重滤镜以降低栅格化与合成开销 */\n   /* filter: blur(6px) brightness(0.96); */\n   transition: opacity 350ms cubic-bezier(0.4, 0, 0.2, 1);\n@@ -114,21 +118,8 @@\n   height: 100%;\n   object-fit: cover;\n }\n \n-.placeholderImg {\n-  position: absolute;\n-  inset: 0;\n-  z-index: 0;\n-  opacity: 1;\n-  /* 移除滤镜，保留静态占位 */\n-  /* filter: blur(6px) brightness(0.96); */\n-  /* 占位符淡出时间稍长，避免过早消失 */\n-  transition: opacity 450ms cubic-bezier(0.4, 0, 0.6, 1);\n-  transition-delay: 100ms;\n-  will-change: opacity;\n-}\n-\n /* 当 loaded=true 时，img 快速渐显 */\n .img[data-loaded=\"true\"] {\n   opacity: 1;\n }\n@@ -189,14 +180,4 @@\n   .defaultLoadingIndicator {\n     animation: none;\n   }\n }\n-\n-@media (prefers-reduced-motion: reduce) {\n-  .placeholder {\n-    animation: none;\n-  }\n-  .placeholderImg,\n-  .img {\n-    transition: none;\n-  }\n-}\n"
                },
                {
                    "date": 1759226019911,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,10 @@\n   position: absolute;\n   inset: 0;\n   width: 100%;\n   height: 100%;\n-  background: linear-gradient(90deg, #f8f9fa 30%, #e9ecef 50%, #f8f9fa 70%);\n+  /* 更明显的灰色渐变背景 */\n+  background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 50%, #e9ecef 100%);\n   background-size: 200% 100%;\n   border-radius: 8px;\n   opacity: 1;\n   animation: none;\n"
                },
                {
                    "date": 1759226031495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n   justify-content: center;\n }\n \n .placeholder::before {\n-  content: \"🖼️\";\n+  content: \"\";\n   font-size: 2rem;\n   opacity: 0.3;\n   color: #6c757d;\n }\n"
                },
                {
                    "date": 1759226107140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n   justify-content: center;\n }\n \n .placeholder::before {\n-  content: \"\";\n+  content: \"🖼️\";\n   font-size: 2rem;\n   opacity: 0.3;\n   color: #6c757d;\n }\n"
                }
            ],
            "date": 1759216733881,
            "name": "Commit-0",
            "content": "/* 容器与占位、图片的默认样式 */\n.container {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: auto;\n  /* 暂时移除以避免与 IntersectionObserver 的潜在兼容问题 */\n  /* content-visibility: auto; */\n  /* contain-intrinsic-size: 1px 200px; */\n  /* 限定样式/布局影响范围，利于合成优化 */\n  contain: content;\n}\n\n.placeholder {\n  position: absolute;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #f8f9fa 30%, #e9ecef 50%, #f8f9fa 70%);\n  background-size: 200% 100%;\n  border-radius: 8px;\n  opacity: 1;\n  animation: none;\n  transition: opacity 300ms ease;\n  will-change: opacity;\n  z-index: 0;\n}\n\n/* 仅当容器进入视口时才启用骨架动画 */\n.container[data-inview=\"true\"] .placeholder {\n  animation: lazyimage-skeleton 2400ms ease-in-out infinite;\n}\n\n@keyframes lazyimage-skeleton {\n  0% { background-position: 100% 50%; }\n  50% { background-position: 0% 50%; }\n  100% { background-position: 100% 50%; }\n}\n\n.placeholderImg {\n  position: absolute;\n  inset: 0;\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  filter: blur(6px) brightness(0.96);\n  transition: opacity 240ms ease;\n  will-change: opacity;\n  z-index: 0;\n}\n\n.img {\n  position: absolute;\n  inset: 0;\n  z-index: 1;\n  opacity: 0;\n  /* 移除重滤镜以降低栅格化与合成开销 */\n  /* filter: blur(6px) brightness(0.96); */\n  transition: opacity 350ms cubic-bezier(0.4, 0, 0.2, 1);\n  will-change: opacity;\n  /* 确保图片在加载时也占据空间 */\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.placeholderImg {\n  position: absolute;\n  inset: 0;\n  z-index: 0;\n  opacity: 1;\n  /* 移除滤镜，保留静态占位 */\n  /* filter: blur(6px) brightness(0.96); */\n  /* 占位符淡出时间稍长，避免过早消失 */\n  transition: opacity 450ms cubic-bezier(0.4, 0, 0.6, 1);\n  transition-delay: 100ms;\n  will-change: opacity;\n}\n\n/* 当 loaded=true 时，img 快速渐显 */\n.img[data-loaded=\"true\"] {\n  opacity: 1;\n}\n\n/* 当 loaded=true 时，占位元素淡出（通过容器 data-loaded 控制）*/\n.container[data-loaded=\"true\"] .placeholder,\n.container[data-loaded=\"true\"] .placeholderImg {\n  opacity: 0;\n}\n\n/* 加载进度指示器样式 */\n.loadingIndicator {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n  opacity: 1;\n  transition: opacity 240ms ease;\n  will-change: opacity;\n}\n\n/* 当图片加载完成时，隐藏加载指示器 */\n.container[data-loaded=\"true\"] .loadingIndicator {\n  opacity: 0;\n  pointer-events: none;\n}\n\n/* 默认加载指示器动画 */\n.defaultLoadingIndicator {\n  width: 20px;\n  height: 20px;\n  border: 2px solid #e9ecef;\n  border-top: 2px solid #6c757d;\n  border-radius: 50%;\n  animation: lazyimage-spin 1.5s ease-in-out infinite;\n  opacity: 0.8;\n}\n\n@keyframes lazyimage-spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .placeholder {\n    animation: none;\n  }\n  .placeholderImg,\n  .img,\n  .loadingIndicator {\n    transition: none;\n  }\n  .defaultLoadingIndicator {\n    animation: none;\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .placeholder {\n    animation: none;\n  }\n  .placeholderImg,\n  .img {\n    transition: none;\n  }\n}"
        }
    ]
}