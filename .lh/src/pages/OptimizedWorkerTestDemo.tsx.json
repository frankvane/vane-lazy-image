{
    "sourceFile": "src/pages/OptimizedWorkerTestDemo.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1759223181069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759223850551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,38 +76,84 @@\n       {/* Worker çŠ¶æ€ä¿¡æ¯ */}\r\n       <div style={{ marginBottom: \"30px\" }}>\r\n         <h2>Worker èƒ½åŠ›æ£€æµ‹</h2>\r\n         {workerStatus && (\r\n-          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n+          <div\r\n+            style={{\r\n+              display: \"grid\",\r\n+              gridTemplateColumns: \"1fr 1fr\",\r\n+              gap: \"20px\",\r\n+            }}\r\n+          >\r\n             <div>\r\n               <h3>æµè§ˆå™¨æ”¯æŒæƒ…å†µ</h3>\r\n               <ul>\r\n-                <li>Web Workers: {workerStatus.capabilities.hasWorker ? \"âœ…\" : \"âŒ\"}</li>\r\n-                <li>OffscreenCanvas: {workerStatus.capabilities.hasOffscreenCanvas ? \"âœ…\" : \"âŒ\"}</li>\r\n-                <li>CreateImageBitmap: {workerStatus.capabilities.hasCreateImageBitmap ? \"âœ…\" : \"âŒ\"}</li>\r\n-                <li>Fetch API: {workerStatus.capabilities.hasFetch ? \"âœ…\" : \"âŒ\"}</li>\r\n-                <li>Transferable Objects: {workerStatus.capabilities.hasTransferableObjects ? \"âœ…\" : \"âŒ\"}</li>\r\n-                <li>æ€§èƒ½ç­‰çº§: {workerStatus.capabilities.estimatedPerformance}</li>\r\n+                <li>\r\n+                  Web Workers:{\" \"}\r\n+                  {workerStatus.capabilities.hasWorker ? \"âœ…\" : \"âŒ\"}\r\n+                </li>\r\n+                <li>\r\n+                  OffscreenCanvas:{\" \"}\r\n+                  {workerStatus.capabilities.hasOffscreenCanvas ? \"âœ…\" : \"âŒ\"}\r\n+                </li>\r\n+                <li>\r\n+                  CreateImageBitmap:{\" \"}\r\n+                  {workerStatus.capabilities.hasCreateImageBitmap ? \"âœ…\" : \"âŒ\"}\r\n+                </li>\r\n+                <li>\r\n+                  Fetch API: {workerStatus.capabilities.hasFetch ? \"âœ…\" : \"âŒ\"}\r\n+                </li>\r\n+                <li>\r\n+                  Transferable Objects:{\" \"}\r\n+                  {workerStatus.capabilities.hasTransferableObjects\r\n+                    ? \"âœ…\"\r\n+                    : \"âŒ\"}\r\n+                </li>\r\n+                <li>\r\n+                  æ€§èƒ½ç­‰çº§: {workerStatus.capabilities.estimatedPerformance}\r\n+                </li>\r\n               </ul>\r\n             </div>\r\n             <div>\r\n               <h3>æ¨èé…ç½®</h3>\r\n               <ul>\r\n-                <li>ä½¿ç”¨ Worker: {workerStatus.recommendation.shouldUseWorker ? \"âœ…\" : \"âŒ\"}</li>\r\n-                <li>æœ€å¤§ Worker æ•°: {workerStatus.recommendation.maxWorkers}</li>\r\n-                <li>å¯ç”¨é™çº§: {workerStatus.recommendation.enableFallback ? \"âœ…\" : \"âŒ\"}</li>\r\n+                <li>\r\n+                  ä½¿ç”¨ Worker:{\" \"}\r\n+                  {workerStatus.recommendation.shouldUseWorker ? \"âœ…\" : \"âŒ\"}\r\n+                </li>\r\n+                <li>\r\n+                  æœ€å¤§ Worker æ•°: {workerStatus.recommendation.maxWorkers}\r\n+                </li>\r\n+                <li>\r\n+                  å¯ç”¨é™çº§:{\" \"}\r\n+                  {workerStatus.recommendation.enableFallback ? \"âœ…\" : \"âŒ\"}\r\n+                </li>\r\n                 <li>åŸå› : {workerStatus.recommendation.reason}</li>\r\n               </ul>\r\n             </div>\r\n           </div>\r\n         )}\r\n       </div>\r\n \r\n       {/* æ§åˆ¶é¢æ¿ */}\r\n-      <div style={{ marginBottom: \"30px\", padding: \"20px\", backgroundColor: \"#f8f9fa\", borderRadius: \"8px\" }}>\r\n+      <div\r\n+        style={{\r\n+          marginBottom: \"30px\",\r\n+          padding: \"20px\",\r\n+          backgroundColor: \"#f8f9fa\",\r\n+          borderRadius: \"8px\",\r\n+        }}\r\n+      >\r\n         <h2>æµ‹è¯•æ§åˆ¶</h2>\r\n \r\n-        <div style={{ display: \"flex\", gap: \"20px\", alignItems: \"center\", marginBottom: \"20px\" }}>\r\n+        <div\r\n+          style={{\r\n+            display: \"flex\",\r\n+            gap: \"20px\",\r\n+            alignItems: \"center\",\r\n+            marginBottom: \"20px\",\r\n+          }}\r\n+        >\r\n           <div>\r\n             <label>å›¾ç‰‡æ•°é‡: </label>\r\n             <select\r\n               value={imageCount}\r\n@@ -150,13 +196,22 @@\n           </button>\r\n         </div>\r\n \r\n         {testResults && (\r\n-          <div style={{ padding: \"15px\", backgroundColor: \"white\", borderRadius: \"4px\", marginTop: \"15px\" }}>\r\n+          <div\r\n+            style={{\r\n+              padding: \"15px\",\r\n+              backgroundColor: \"white\",\r\n+              borderRadius: \"4px\",\r\n+              marginTop: \"15px\",\r\n+            }}\r\n+          >\r\n             <h4>æµ‹è¯•ç»“æœ</h4>\r\n             <p>çŠ¶æ€: {testResults.isWorking ? \"âœ… æ­£å¸¸å·¥ä½œ\" : \"âŒ æ— æ³•å·¥ä½œ\"}</p>\r\n             <p>æ—¶é—´: {testResults.timestamp}</p>\r\n-            {testResults.error && <p style={{ color: \"red\" }}>é”™è¯¯: {testResults.error}</p>}\r\n+            {testResults.error && (\r\n+              <p style={{ color: \"red\" }}>é”™è¯¯: {testResults.error}</p>\r\n+            )}\r\n           </div>\r\n         )}\r\n       </div>\r\n \r\n@@ -164,12 +219,24 @@\n       <div style={{ marginBottom: \"30px\" }}>\r\n         <h2>æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h2>\r\n         <p>å¯¹æ¯”å¯ç”¨å’Œç¦ç”¨ Worker çš„åŠ è½½æ€§èƒ½ï¼š</p>\r\n \r\n-        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n+        <div\r\n+          style={{\r\n+            display: \"grid\",\r\n+            gridTemplateColumns: \"1fr 1fr\",\r\n+            gap: \"20px\",\r\n+          }}\r\n+        >\r\n           <div>\r\n             <h4>å¯ç”¨ LQIP Worker</h4>\r\n-            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(150px, 1fr))\", gap: \"10px\" }}>\r\n+            <div\r\n+              style={{\r\n+                display: \"grid\",\r\n+                gridTemplateColumns: \"repeat(auto-fit, minmax(150px, 1fr))\",\r\n+                gap: \"10px\",\r\n+              }}\r\n+            >\r\n               {images.slice(0, Math.min(6, imageCount)).map((image, index) => (\r\n                 <LazyImage\r\n                   key={`worker-${image.id}`}\r\n                   src={image.src}\r\n@@ -187,9 +254,15 @@\n           </div>\r\n \r\n           <div>\r\n             <h4>ç¦ç”¨ LQIP Workerï¼ˆä¸»çº¿ç¨‹ï¼‰</h4>\r\n-            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(150px, 1fr))\", gap: \"10px\" }}>\r\n+            <div\r\n+              style={{\r\n+                display: \"grid\",\r\n+                gridTemplateColumns: \"repeat(auto-fit, minmax(150px, 1fr))\",\r\n+                gap: \"10px\",\r\n+              }}\r\n+            >\r\n               {images.slice(0, Math.min(6, imageCount)).map((image, index) => (\r\n                 <LazyImage\r\n                   key={`main-${image.id}`}\r\n                   src={image.src}\r\n@@ -212,9 +285,15 @@\n       <div style={{ marginBottom: \"30px\" }}>\r\n         <h2>å•å¼ å¤§å›¾ LQIP æµ‹è¯•</h2>\r\n         <p>æµ‹è¯•å¤§å›¾ç‰‡çš„ LQIP ç”Ÿæˆæ•ˆæœï¼š</p>\r\n \r\n-        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n+        <div\r\n+          style={{\r\n+            display: \"grid\",\r\n+            gridTemplateColumns: \"1fr 1fr\",\r\n+            gap: \"20px\",\r\n+          }}\r\n+        >\r\n           <div>\r\n             <h4>å¯ç”¨ Worker</h4>\r\n             <LazyImage\r\n               src={testImageUrl}\r\n@@ -248,22 +327,42 @@\n \r\n       {/* ä¼˜åŒ–å»ºè®® */}\r\n       <div style={{ marginBottom: \"30px\" }}>\r\n         <h2>æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>\r\n-        <div style={{ backgroundColor: \"#f8f9fa\", padding: \"20px\", borderRadius: \"8px\" }}>\r\n+        <div\r\n+          style={{\r\n+            backgroundColor: \"#f8f9fa\",\r\n+            padding: \"20px\",\r\n+            borderRadius: \"8px\",\r\n+          }}\r\n+        >\r\n           <h4>è§£å†³åˆå§‹åŒ–å»¶è¿Ÿçš„æ–¹æ³•ï¼š</h4>\r\n           <ul>\r\n-            <li>âœ… <strong>å‡å°‘åˆå§‹å›¾ç‰‡æ•°é‡</strong> - ä» 200 å¼ å‡å°‘åˆ° 20 å¼ </li>\r\n-            <li>âœ… <strong>å¯ç”¨ä¼˜å…ˆçº§åŠ è½½</strong> - ä¼˜å…ˆåŠ è½½å¯è§åŒºåŸŸçš„å›¾ç‰‡</li>\r\n-            <li>âœ… <strong>ä¼˜åŒ– LQIP å‚æ•°</strong> - é™ä½è´¨é‡å’Œå°ºå¯¸å‡å°‘å¤„ç†æ—¶é—´</li>\r\n-            <li>âœ… <strong>ç®€åŒ–ç›‘æ§é…ç½®</strong> - å‡å°‘ä¸å¿…è¦çš„æ€§èƒ½åˆ†æ</li>\r\n-            <li>âœ… <strong>ä½¿ç”¨æœ¬åœ°å›¾ç‰‡</strong> - é¿å…ç½‘ç»œè¯·æ±‚å»¶è¿Ÿ</li>\r\n-            <li>âœ… <strong>é¢„åŠ è½½ Worker</strong> - æå‰åˆå§‹åŒ– Worker æ± </li>\r\n+            <li>\r\n+              âœ… <strong>å‡å°‘åˆå§‹å›¾ç‰‡æ•°é‡</strong> - ä» 200 å¼ å‡å°‘åˆ° 20 å¼ \r\n+            </li>\r\n+            <li>\r\n+              âœ… <strong>å¯ç”¨ä¼˜å…ˆçº§åŠ è½½</strong> - ä¼˜å…ˆåŠ è½½å¯è§åŒºåŸŸçš„å›¾ç‰‡\r\n+            </li>\r\n+            <li>\r\n+              âœ… <strong>ä¼˜åŒ– LQIP å‚æ•°</strong> - é™ä½è´¨é‡å’Œå°ºå¯¸å‡å°‘å¤„ç†æ—¶é—´\r\n+            </li>\r\n+            <li>\r\n+              âœ… <strong>ç®€åŒ–ç›‘æ§é…ç½®</strong> - å‡å°‘ä¸å¿…è¦çš„æ€§èƒ½åˆ†æ\r\n+            </li>\r\n+            <li>\r\n+              âœ… <strong>ä½¿ç”¨æœ¬åœ°å›¾ç‰‡</strong> - é¿å…ç½‘ç»œè¯·æ±‚å»¶è¿Ÿ\r\n+            </li>\r\n+            <li>\r\n+              âœ… <strong>é¢„åŠ è½½ Worker</strong> - æå‰åˆå§‹åŒ– Worker æ± \r\n+            </li>\r\n           </ul>\r\n \r\n           <h4>æœ€ä½³å®è·µï¼š</h4>\r\n           <ul>\r\n-            <li>ğŸ¯ é¦–å±å›¾ç‰‡ä½¿ç”¨ <code>priority=\"high\"</code></li>\r\n+            <li>\r\n+              ğŸ¯ é¦–å±å›¾ç‰‡ä½¿ç”¨ <code>priority=\"high\"</code>\r\n+            </li>\r\n             <li>ğŸ¯ LQIP å°ºå¯¸æ§åˆ¶åœ¨ 16-32px</li>\r\n             <li>ğŸ¯ è´¨é‡è®¾ç½®ä¸º 0.5-0.7</li>\r\n             <li>ğŸ¯ æ‰¹é‡åŠ è½½æ—¶ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨</li>\r\n             <li>ğŸ¯ ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ</li>\r\n@@ -274,15 +373,17 @@\n       {/* è¯¦ç»†çŠ¶æ€æŠ¥å‘Š */}\r\n       {workerStatus && (\r\n         <div style={{ marginBottom: \"30px\" }}>\r\n           <h2>è¯¦ç»†çŠ¶æ€æŠ¥å‘Š</h2>\r\n-          <pre style={{\r\n-            backgroundColor: \"#f8f9fa\",\r\n-            padding: \"15px\",\r\n-            borderRadius: \"4px\",\r\n-            overflow: \"auto\",\r\n-            fontSize: \"12px\"\r\n-          }}>\r\n+          <pre\r\n+            style={{\r\n+              backgroundColor: \"#f8f9fa\",\r\n+              padding: \"15px\",\r\n+              borderRadius: \"4px\",\r\n+              overflow: \"auto\",\r\n+              fontSize: \"12px\",\r\n+            }}\r\n+          >\r\n             {JSON.stringify(workerStatus.statusReport, null, 2)}\r\n           </pre>\r\n         </div>\r\n       )}\r\n"
                }
            ],
            "date": 1759223181069,
            "name": "Commit-0",
            "content": "/**\r\n * ä¼˜åŒ–çš„ Worker æµ‹è¯•æ¼”ç¤ºé¡µé¢\r\n * è§£å†³åˆå§‹åŒ–å»¶è¿Ÿå’Œæ€§èƒ½é—®é¢˜\r\n */\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  detectWorkerCapabilities,\r\n  getWorkerRecommendation,\r\n  getWorkerStatusReport,\r\n  testWorkerFunctionality,\r\n} from \"../components/LazyImage/utils/workerDetection\";\r\n\r\nimport { LazyImage } from \"../components/LazyImage\";\r\n\r\nconst OptimizedWorkerTestDemo: React.FC = () => {\r\n  const [workerStatus, setWorkerStatus] = useState<any>(null);\r\n  const [testResults, setTestResults] = useState<any>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [imageCount, setImageCount] = useState(20); // å‡å°‘åˆå§‹å›¾ç‰‡æ•°é‡\r\n  const [enableWorker, setEnableWorker] = useState(true);\r\n\r\n  // æµ‹è¯•å›¾ç‰‡ URL\r\n  const testImageUrl = \"https://picsum.photos/800/600?random=1\";\r\n\r\n  useEffect(() => {\r\n    // æ£€æµ‹ Worker èƒ½åŠ›\r\n    const capabilities = detectWorkerCapabilities();\r\n    const recommendation = getWorkerRecommendation();\r\n    const statusReport = getWorkerStatusReport();\r\n\r\n    setWorkerStatus({\r\n      capabilities,\r\n      recommendation,\r\n      statusReport,\r\n    });\r\n\r\n    // æ ¹æ®æ¨èè‡ªåŠ¨è®¾ç½® Worker çŠ¶æ€\r\n    setEnableWorker(recommendation.shouldUseWorker);\r\n  }, []);\r\n\r\n  const handleTestWorker = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const isWorking = await testWorkerFunctionality();\r\n      setTestResults({\r\n        isWorking,\r\n        timestamp: new Date().toISOString(),\r\n      });\r\n    } catch (error) {\r\n      setTestResults({\r\n        isWorking: false,\r\n        error: error instanceof Error ? error.message : \"æœªçŸ¥é”™è¯¯\",\r\n        timestamp: new Date().toISOString(),\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // ç”Ÿæˆæµ‹è¯•å›¾ç‰‡\r\n  const generateImages = (count: number) => {\r\n    return Array.from({ length: count }, (_, i) => ({\r\n      id: i,\r\n      src: `https://picsum.photos/400/300?random=${i + 2000}`,\r\n      alt: `Test image ${i + 1}`,\r\n    }));\r\n  };\r\n\r\n  const images = generateImages(imageCount);\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\", maxWidth: \"1200px\", margin: \"0 auto\" }}>\r\n      <h1>ä¼˜åŒ–çš„ Web Worker åŠŸèƒ½æµ‹è¯•</h1>\r\n\r\n      {/* Worker çŠ¶æ€ä¿¡æ¯ */}\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <h2>Worker èƒ½åŠ›æ£€æµ‹</h2>\r\n        {workerStatus && (\r\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n            <div>\r\n              <h3>æµè§ˆå™¨æ”¯æŒæƒ…å†µ</h3>\r\n              <ul>\r\n                <li>Web Workers: {workerStatus.capabilities.hasWorker ? \"âœ…\" : \"âŒ\"}</li>\r\n                <li>OffscreenCanvas: {workerStatus.capabilities.hasOffscreenCanvas ? \"âœ…\" : \"âŒ\"}</li>\r\n                <li>CreateImageBitmap: {workerStatus.capabilities.hasCreateImageBitmap ? \"âœ…\" : \"âŒ\"}</li>\r\n                <li>Fetch API: {workerStatus.capabilities.hasFetch ? \"âœ…\" : \"âŒ\"}</li>\r\n                <li>Transferable Objects: {workerStatus.capabilities.hasTransferableObjects ? \"âœ…\" : \"âŒ\"}</li>\r\n                <li>æ€§èƒ½ç­‰çº§: {workerStatus.capabilities.estimatedPerformance}</li>\r\n              </ul>\r\n            </div>\r\n            <div>\r\n              <h3>æ¨èé…ç½®</h3>\r\n              <ul>\r\n                <li>ä½¿ç”¨ Worker: {workerStatus.recommendation.shouldUseWorker ? \"âœ…\" : \"âŒ\"}</li>\r\n                <li>æœ€å¤§ Worker æ•°: {workerStatus.recommendation.maxWorkers}</li>\r\n                <li>å¯ç”¨é™çº§: {workerStatus.recommendation.enableFallback ? \"âœ…\" : \"âŒ\"}</li>\r\n                <li>åŸå› : {workerStatus.recommendation.reason}</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* æ§åˆ¶é¢æ¿ */}\r\n      <div style={{ marginBottom: \"30px\", padding: \"20px\", backgroundColor: \"#f8f9fa\", borderRadius: \"8px\" }}>\r\n        <h2>æµ‹è¯•æ§åˆ¶</h2>\r\n\r\n        <div style={{ display: \"flex\", gap: \"20px\", alignItems: \"center\", marginBottom: \"20px\" }}>\r\n          <div>\r\n            <label>å›¾ç‰‡æ•°é‡: </label>\r\n            <select\r\n              value={imageCount}\r\n              onChange={(e) => setImageCount(Number(e.target.value))}\r\n              style={{ padding: \"4px 8px\", marginLeft: \"8px\" }}\r\n            >\r\n              <option value={5}>5å¼ </option>\r\n              <option value={10}>10å¼ </option>\r\n              <option value={20}>20å¼ </option>\r\n              <option value={50}>50å¼ </option>\r\n              <option value={100}>100å¼ </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={enableWorker}\r\n                onChange={(e) => setEnableWorker(e.target.checked)}\r\n                style={{ marginRight: \"8px\" }}\r\n              />\r\n              å¯ç”¨ Web Worker\r\n            </label>\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleTestWorker}\r\n            disabled={isLoading}\r\n            style={{\r\n              padding: \"8px 16px\",\r\n              backgroundColor: isLoading ? \"#ccc\" : \"#007bff\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: \"4px\",\r\n              cursor: isLoading ? \"not-allowed\" : \"pointer\",\r\n            }}\r\n          >\r\n            {isLoading ? \"æµ‹è¯•ä¸­...\" : \"æµ‹è¯• Worker åŠŸèƒ½\"}\r\n          </button>\r\n        </div>\r\n\r\n        {testResults && (\r\n          <div style={{ padding: \"15px\", backgroundColor: \"white\", borderRadius: \"4px\", marginTop: \"15px\" }}>\r\n            <h4>æµ‹è¯•ç»“æœ</h4>\r\n            <p>çŠ¶æ€: {testResults.isWorking ? \"âœ… æ­£å¸¸å·¥ä½œ\" : \"âŒ æ— æ³•å·¥ä½œ\"}</p>\r\n            <p>æ—¶é—´: {testResults.timestamp}</p>\r\n            {testResults.error && <p style={{ color: \"red\" }}>é”™è¯¯: {testResults.error}</p>}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* æ€§èƒ½å¯¹æ¯”æµ‹è¯• */}\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <h2>æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h2>\r\n        <p>å¯¹æ¯”å¯ç”¨å’Œç¦ç”¨ Worker çš„åŠ è½½æ€§èƒ½ï¼š</p>\r\n\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n          <div>\r\n            <h4>å¯ç”¨ LQIP Worker</h4>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(150px, 1fr))\", gap: \"10px\" }}>\r\n              {images.slice(0, Math.min(6, imageCount)).map((image, index) => (\r\n                <LazyImage\r\n                  key={`worker-${image.id}`}\r\n                  src={image.src}\r\n                  alt={image.alt}\r\n                  style={{ width: \"100%\", height: \"120px\", objectFit: \"cover\" }}\r\n                  enableLQIP={true}\r\n                  lqipWidth={16}\r\n                  lqipQuality={0.5}\r\n                  enableLQIPWorker={enableWorker}\r\n                  showLoadingIndicator={true}\r\n                  priority={index < 3 ? \"high\" : \"medium\"}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h4>ç¦ç”¨ LQIP Workerï¼ˆä¸»çº¿ç¨‹ï¼‰</h4>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(150px, 1fr))\", gap: \"10px\" }}>\r\n              {images.slice(0, Math.min(6, imageCount)).map((image, index) => (\r\n                <LazyImage\r\n                  key={`main-${image.id}`}\r\n                  src={image.src}\r\n                  alt={image.alt}\r\n                  style={{ width: \"100%\", height: \"120px\", objectFit: \"cover\" }}\r\n                  enableLQIP={true}\r\n                  lqipWidth={16}\r\n                  lqipQuality={0.5}\r\n                  enableLQIPWorker={false}\r\n                  showLoadingIndicator={true}\r\n                  priority={index < 3 ? \"high\" : \"medium\"}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* å•å¼ å¤§å›¾æµ‹è¯• */}\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <h2>å•å¼ å¤§å›¾ LQIP æµ‹è¯•</h2>\r\n        <p>æµ‹è¯•å¤§å›¾ç‰‡çš„ LQIP ç”Ÿæˆæ•ˆæœï¼š</p>\r\n\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n          <div>\r\n            <h4>å¯ç”¨ Worker</h4>\r\n            <LazyImage\r\n              src={testImageUrl}\r\n              alt=\"æµ‹è¯•å›¾ç‰‡ - Worker\"\r\n              style={{ width: \"100%\", height: \"300px\", objectFit: \"cover\" }}\r\n              enableLQIP={true}\r\n              lqipWidth={32}\r\n              lqipQuality={0.6}\r\n              enableLQIPWorker={enableWorker}\r\n              showLoadingIndicator={true}\r\n              priority=\"high\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <h4>ç¦ç”¨ Worker</h4>\r\n            <LazyImage\r\n              src={testImageUrl}\r\n              alt=\"æµ‹è¯•å›¾ç‰‡ - ä¸»çº¿ç¨‹\"\r\n              style={{ width: \"100%\", height: \"300px\", objectFit: \"cover\" }}\r\n              enableLQIP={true}\r\n              lqipWidth={32}\r\n              lqipQuality={0.6}\r\n              enableLQIPWorker={false}\r\n              showLoadingIndicator={true}\r\n              priority=\"high\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ä¼˜åŒ–å»ºè®® */}\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <h2>æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>\r\n        <div style={{ backgroundColor: \"#f8f9fa\", padding: \"20px\", borderRadius: \"8px\" }}>\r\n          <h4>è§£å†³åˆå§‹åŒ–å»¶è¿Ÿçš„æ–¹æ³•ï¼š</h4>\r\n          <ul>\r\n            <li>âœ… <strong>å‡å°‘åˆå§‹å›¾ç‰‡æ•°é‡</strong> - ä» 200 å¼ å‡å°‘åˆ° 20 å¼ </li>\r\n            <li>âœ… <strong>å¯ç”¨ä¼˜å…ˆçº§åŠ è½½</strong> - ä¼˜å…ˆåŠ è½½å¯è§åŒºåŸŸçš„å›¾ç‰‡</li>\r\n            <li>âœ… <strong>ä¼˜åŒ– LQIP å‚æ•°</strong> - é™ä½è´¨é‡å’Œå°ºå¯¸å‡å°‘å¤„ç†æ—¶é—´</li>\r\n            <li>âœ… <strong>ç®€åŒ–ç›‘æ§é…ç½®</strong> - å‡å°‘ä¸å¿…è¦çš„æ€§èƒ½åˆ†æ</li>\r\n            <li>âœ… <strong>ä½¿ç”¨æœ¬åœ°å›¾ç‰‡</strong> - é¿å…ç½‘ç»œè¯·æ±‚å»¶è¿Ÿ</li>\r\n            <li>âœ… <strong>é¢„åŠ è½½ Worker</strong> - æå‰åˆå§‹åŒ– Worker æ± </li>\r\n          </ul>\r\n\r\n          <h4>æœ€ä½³å®è·µï¼š</h4>\r\n          <ul>\r\n            <li>ğŸ¯ é¦–å±å›¾ç‰‡ä½¿ç”¨ <code>priority=\"high\"</code></li>\r\n            <li>ğŸ¯ LQIP å°ºå¯¸æ§åˆ¶åœ¨ 16-32px</li>\r\n            <li>ğŸ¯ è´¨é‡è®¾ç½®ä¸º 0.5-0.7</li>\r\n            <li>ğŸ¯ æ‰¹é‡åŠ è½½æ—¶ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨</li>\r\n            <li>ğŸ¯ ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {/* è¯¦ç»†çŠ¶æ€æŠ¥å‘Š */}\r\n      {workerStatus && (\r\n        <div style={{ marginBottom: \"30px\" }}>\r\n          <h2>è¯¦ç»†çŠ¶æ€æŠ¥å‘Š</h2>\r\n          <pre style={{\r\n            backgroundColor: \"#f8f9fa\",\r\n            padding: \"15px\",\r\n            borderRadius: \"4px\",\r\n            overflow: \"auto\",\r\n            fontSize: \"12px\"\r\n          }}>\r\n            {JSON.stringify(workerStatus.statusReport, null, 2)}\r\n          </pre>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptimizedWorkerTestDemo;\r\n"
        }
    ]
}