{
    "sourceFile": "src/pages/LoadingStateDemo.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1759224624366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1759224624366,
            "name": "Commit-0",
            "content": "/**\r\n * 加载状态演示页面\r\n * 展示改进后的加载前视觉效果\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\n\r\nimport { LazyImage } from \"../components/LazyImage\";\r\n\r\nconst LoadingStateDemo: React.FC = () => {\r\n  const [testImages] = useState([\r\n    { src: \"https://picsum.photos/400/300?random=1\", alt: \"快速加载图片\" },\r\n    { src: \"https://picsum.photos/400/300?random=2\", alt: \"中等加载图片\" },\r\n    {\r\n      src: \"https://invalid-url-that-will-fail.com/image.jpg\",\r\n      alt: \"加载失败图片\",\r\n    },\r\n    { src: \"https://picsum.photos/400/300?random=3\", alt: \"正常图片\" },\r\n  ]);\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\", maxWidth: \"1200px\", margin: \"0 auto\" }}>\r\n      <h1>🎨 加载状态视觉效果演示</h1>\r\n\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <h2>改进说明</h2>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#d4edda\",\r\n            padding: \"15px\",\r\n            borderRadius: \"8px\",\r\n            marginBottom: \"20px\",\r\n          }}\r\n        >\r\n          <h4>✅ 已优化的视觉效果：</h4>\r\n          <ul>\r\n            <li>\r\n              <strong>默认背景</strong> - 添加渐变背景，不再是纯白色\r\n            </li>\r\n            <li>\r\n              <strong>占位图标</strong> - 显示 🖼️ 图标表示图片区域\r\n            </li>\r\n            <li>\r\n              <strong>加载动画</strong> - 进入视窗时显示骨架屏动画\r\n            </li>\r\n            <li>\r\n              <strong>加载状态</strong> - 开始加载时显示 ⏳ 图标\r\n            </li>\r\n            <li>\r\n              <strong>错误状态</strong> - 加载失败时显示 ❌ 图标\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 滚动提示 */}\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <h2>测试说明</h2>\r\n        <p>向下滚动查看不同状态的图片加载效果：</p>\r\n        <ul>\r\n          <li>\r\n            🖼️ <strong>初始状态</strong> - 显示占位图标和渐变背景\r\n          </li>\r\n          <li>\r\n            ⏳ <strong>加载中</strong> - 显示加载图标和脉冲动画\r\n          </li>\r\n          <li>\r\n            ✅ <strong>加载完成</strong> - 显示实际图片\r\n          </li>\r\n          <li>\r\n            ❌ <strong>加载失败</strong> - 显示错误图标\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      {/* 占位内容 */}\r\n      <div\r\n        style={{\r\n          height: \"100vh\",\r\n          backgroundColor: \"#f0f0f0\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <h3>向下滚动查看加载效果</h3>\r\n          <p>👇</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 测试图片 */}\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"repeat(auto-fit, minmax(300px, 1fr))\",\r\n          gap: \"20px\",\r\n          margin: \"40px 0\",\r\n        }}\r\n      >\r\n        {testImages.map((image, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              backgroundColor: \"white\",\r\n              padding: \"20px\",\r\n              borderRadius: \"8px\",\r\n              boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\r\n            }}\r\n          >\r\n            <h4 style={{ margin: \"0 0 15px 0\", fontSize: \"16px\" }}>\r\n              {image.alt}\r\n            </h4>\r\n            <LazyImage\r\n              src={image.src}\r\n              alt={image.alt}\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"200px\",\r\n                objectFit: \"cover\",\r\n                borderRadius: \"4px\",\r\n              }}\r\n              enableLQIP={true}\r\n              lqipWidth={16}\r\n              lqipQuality={0.5}\r\n              enableLQIPWorker={true}\r\n              showLoadingIndicator={true}\r\n              priority={index === 0 ? \"high\" : \"medium\"}\r\n              onLoad={() => {\r\n                console.log(`✅ ${image.alt} 加载成功`);\r\n              }}\r\n              onError={() => {\r\n                console.error(`❌ ${image.alt} 加载失败`);\r\n              }}\r\n            />\r\n            <div style={{ marginTop: \"10px\", fontSize: \"12px\", color: \"#666\" }}>\r\n              状态: {index === 2 ? \"预期失败\" : \"正常加载\"}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* 更多占位内容 */}\r\n      <div\r\n        style={{\r\n          height: \"50vh\",\r\n          backgroundColor: \"#e0e0e0\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <h3>继续滚动查看更多效果</h3>\r\n          <p>👇</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 大图测试 */}\r\n      <div style={{ margin: \"40px 0\" }}>\r\n        <h3>大图加载测试</h3>\r\n        <LazyImage\r\n          src=\"https://picsum.photos/800/600?random=100\"\r\n          alt=\"大图加载测试\"\r\n          style={{\r\n            width: \"100%\",\r\n            maxWidth: \"800px\",\r\n            height: \"400px\",\r\n            objectFit: \"cover\",\r\n            borderRadius: \"8px\",\r\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\r\n          }}\r\n          enableLQIP={true}\r\n          lqipWidth={24}\r\n          lqipQuality={0.6}\r\n          enableLQIPWorker={true}\r\n          showLoadingIndicator={true}\r\n          priority=\"medium\"\r\n          onLoad={() => console.log(\"✅ 大图加载成功\")}\r\n          onError={() => console.error(\"❌ 大图加载失败\")}\r\n        />\r\n      </div>\r\n\r\n      {/* 对比测试 */}\r\n      <div style={{ margin: \"40px 0\" }}>\r\n        <h3>对比测试</h3>\r\n        <div\r\n          style={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"1fr 1fr\",\r\n            gap: \"20px\",\r\n          }}\r\n        >\r\n          <div>\r\n            <h4>启用 LQIP</h4>\r\n            <LazyImage\r\n              src=\"https://picsum.photos/400/300?random=200\"\r\n              alt=\"启用 LQIP\"\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"200px\",\r\n                objectFit: \"cover\",\r\n                borderRadius: \"4px\",\r\n              }}\r\n              enableLQIP={true}\r\n              lqipWidth={20}\r\n              lqipQuality={0.6}\r\n              enableLQIPWorker={true}\r\n              showLoadingIndicator={true}\r\n            />\r\n          </div>\r\n          <div>\r\n            <h4>禁用 LQIP</h4>\r\n            <LazyImage\r\n              src=\"https://picsum.photos/400/300?random=201\"\r\n              alt=\"禁用 LQIP\"\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"200px\",\r\n                objectFit: \"cover\",\r\n                borderRadius: \"4px\",\r\n              }}\r\n              enableLQIP={false}\r\n              showLoadingIndicator={true}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 底部 */}\r\n      <div\r\n        style={{\r\n          height: \"50vh\",\r\n          backgroundColor: \"#d0d0d0\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <h3>🎉 加载状态演示完成！</h3>\r\n          <p>现在图片加载前有更好的视觉效果了</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingStateDemo;\r\n"
        }
    ]
}